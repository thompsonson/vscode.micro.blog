# MVP Phase 1: Read-Only Content Browser

## ğŸ¯ Primary Objective

**Create a VS Code extension that allows users to browse and view their existing micro.blog content**

**Success Criteria:**
- Users can configure their micro.blog account
- Users can see all their posts and pages in a tree view
- Users can click to view post/page content in VS Code
- Extension handles authentication securely
- Basic error handling for network/API issues

## ğŸ“‹ SMART Goals Breakdown

### Goal 1: Basic Extension Infrastructure
**Specific**: Set up VS Code extension project with TypeScript and basic activation
**Measurable**: Extension loads without errors, appears in extensions list
**Achievable**: Standard VS Code extension setup
**Relevant**: Foundation for all future features
**Time-bound**: 2-3 days

**Tasks:**
- [ ] Initialize VS Code extension project with TypeScript
- [ ] Configure build system (webpack/esbuild)
- [ ] Set up basic package.json with required contributions
- [ ] Implement extension activation/deactivation lifecycle
- [ ] Add basic logging and error handling
- [ ] Test extension loads in VS Code development environment

### Goal 2: Authentication & Blog Setup
**Specific**: Enable users to securely configure their micro.blog account
**Measurable**: Users can enter domain + app token, credentials stored securely
**Achievable**: Uses VS Code SecretStorage API + basic RSD discovery
**Relevant**: Required for API access
**Time-bound**: 3-4 days

**Tasks:**
- [ ] Implement VS Code SecretStorage credential manager
- [ ] Create blog configuration command (`microblog.configure`)
- [ ] Build RSD discovery from blog domain
- [ ] Add credential validation with test API call
- [ ] Implement basic input validation for domain/token
- [ ] Add configuration status indicator

### Goal 3: Micropub API Client (Read-Only)
**Specific**: Build HTTP client for fetching blog content via Micropub API
**Measurable**: Can successfully fetch posts with `GET /micropub?q=source`
**Achievable**: Simple HTTP GET requests with Bearer token auth
**Relevant**: Official recommended API for accessing own posts
**Time-bound**: 2-3 days

**Tasks:**
- [ ] Implement basic HTTP client with HTTPS-only requests
- [ ] Add TypeScript interfaces for Micropub API responses
- [ ] Implement `fetchPosts()` method using Micropub API
- [ ] Implement `fetchPages()` method using Micropub API
- [ ] Add basic error handling and retry logic
- [ ] Create mock server for development testing
- [ ] Unit tests for API client methods

### Goal 4: Tree View Content Browser
**Specific**: Display blog content in VS Code explorer panel
**Measurable**: Tree view shows posts/pages with titles, dates, status
**Achievable**: Standard VS Code TreeDataProvider implementation
**Relevant**: Primary user interface for content browsing
**Time-bound**: 3-4 days

**Tasks:**
- [ ] Implement TreeDataProvider for micro.blog content
- [ ] Register tree view in package.json contributions
- [ ] Create tree item types (Blog > Posts/Pages > Individual items)
- [ ] Add icons and status indicators (published/draft)
- [ ] Implement refresh functionality
- [ ] Add welcome view for unconfigured state

### Goal 5: Content Viewing
**Specific**: Allow users to view post/page content in VS Code editor
**Measurable**: Click on tree item opens content in read-only editor
**Achievable**: Use VS Code's virtual document provider or temp files
**Relevant**: Enables users to read their content
**Time-bound**: 2-3 days

**Tasks:**
- [ ] Implement content viewing command
- [ ] Create virtual document provider for read-only content
- [ ] Convert API content to readable format (markdown)
- [ ] Add metadata display (title, date, status, categories)
- [ ] Implement proper markdown syntax highlighting
- [ ] Add "Open in Browser" command for published posts

## ğŸ—ï¸ Technical Architecture (Simplified)

### Essential Components Only

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Tree View     â”‚    â”‚  Credential      â”‚    â”‚   Micropub      â”‚
â”‚   Provider      â”‚â—„â”€â”€â”€â”¤  Manager         â”‚â—„â”€â”€â”€â”¤   API Client    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                        â”‚
         â–¼                       â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Content       â”‚    â”‚  VS Code         â”‚    â”‚  Micro.blog     â”‚
â”‚   Viewer        â”‚    â”‚  SecretStorage   â”‚    â”‚  Micropub API   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Deferred Components
- SQLite database (use in-memory storage for now)
- File system operations
- Conflict detection
- Publishing capabilities (will use Micropub for this too)
- Multi-blog support

## ğŸ“… 2-Week Sprint Plan

### Week 1: Foundation
**Days 1-2**: Extension setup + build system
**Days 3-4**: Authentication & credential management  
**Days 5**: RSD discovery & blog configuration

### Week 2: Content Display
**Days 1-3**: Micropub API client implementation
**Days 4-5**: Tree view and content browsing
**Weekend**: Content viewing & polish

## ğŸ§ª Testing Strategy (VS Code Test CLI)

### Setup
```bash
npm install --save-dev @vscode/test-cli @vscode/test-electron
```

### Configuration (.vscode-test.js)
```javascript
const { defineConfig } = require('@vscode/test-cli');
module.exports = defineConfig({ 
  files: 'out/test/**/*.test.js',
  workspaceFolder: './test-workspace'
});
```

### Integration Tests
- [ ] Extension activation and commands registration
- [ ] Credential manager with SecretStorage
- [ ] Micropub API client with mock responses
- [ ] Tree view provider with test data
- [ ] Content viewing workflow
- [ ] Error handling scenarios

### Testing Data
- Mock Micropub API responses for unit tests
- Test workspace with sample markdown files
- Real micro.blog test account for integration tests

## âœ… Definition of Done

### For Each Task
- [ ] Implementation complete and functional
- [ ] Basic unit tests written
- [ ] Manual testing performed
- [ ] No console errors or warnings
- [ ] Code review completed (if working with team)

### For Overall Objective
- [ ] Extension installs from VSIX file
- [ ] User can configure micro.blog account
- [ ] All posts and pages visible in tree view
- [ ] Content viewable when clicked
- [ ] Error messages clear and helpful
- [ ] Ready for user testing/feedback

## ğŸš€ Success Metrics

### Technical Metrics
- Extension loads in <2 seconds
- Micropub API calls complete in <5 seconds
- Tree view renders <100 items smoothly
- No memory leaks during normal usage

### User Experience Metrics
- Setup process takes <2 minutes
- Content browsing feels responsive
- Error messages are clear and actionable
- Users can find and view their content easily

## ğŸ¯ Next Phase Preview

After MVP Phase 1 is complete and validated:
- **Phase 2**: Basic content editing (local markdown files)
- **Phase 3**: Publishing capability (new posts only)
- **Phase 4**: Full sync and conflict resolution

## ğŸ“ Validation & Feedback

### Internal Validation
- [ ] Test with multiple micro.blog accounts
- [ ] Test error scenarios (network issues, bad credentials)
- [ ] Test with different content types and sizes
- [ ] Cross-platform testing (Windows/Mac/Linux)

### User Feedback
- [ ] Share with 3-5 micro.blog users for feedback
- [ ] Gather feedback on setup process
- [ ] Identify most-wanted features for Phase 2
- [ ] Validate that read-only browsing provides value

